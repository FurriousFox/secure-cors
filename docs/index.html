<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Secure CORS demo</title>
</head>
<script src="https://cdn.jsdelivr.net/gh/FurriousFox/secure-cors/client/browser.js"></script>

<body>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            margin: 0;
            padding: 0;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        #demo {
            padding: 20px;
            padding-left: 25%;
            padding-right: 25%;
            flex: 1;
        }
    </style>

    <div id="demo">
        <h1>Fetching https://exampleendpoint.argv.nl with post body "secret"...</h1>
        <pre><code class="language-html">&lt;script src="https://cdn.jsdelivr.net/gh/FurriousFox/secure-cors/client/browser.js"&gt;&lt;/script&gt;

&lt;script&gt;
    fetch.config({
        // the hostname or ip address running the secure-cors server
        host: "exampleendpoint-secure-cors-server.argv.nl", // default: "127.0.0.1"

        // the port the secure-cors server is running on
        port: 443,                                          // default: 11711

        // whether to use wss:// or ws://
        secure: true,                                       // default: false

        // whether to use DNS-over-HTTPS to resolve the hostname
        doh: true,                                          // default: false
    });

    let response = await fetch("https://exampleendpoint.argv.nl", {
        method: "POST",
        body: "secret",
    });

    console.log("Status: ",         response.status);
    console.log("Response body: ",  await response.text());
&lt;/script&gt;</code></pre>
        <br>
        <h2>Output:</h2>
        <pre><code class="language-javascript" id="output"></code></pre>
    </div>
</body>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/html.min.js"></script>


<script>
    document.getElementById("output").innerText = `Status: 200`
    document.getElementById("output").innerHTML +=
        `\nResponse body: <span style="color: #00f">{"status":"success","message":"Hello, world!"}</span>`


    hljs.highlightAll();
</script>

</html>